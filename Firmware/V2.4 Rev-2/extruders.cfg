##===========================================================================
##========================== Extruder Configuration =========================
##===========================================================================
    # RMS = Current (A) * .707
        # Examples,
        # LDO 36STH20-1004AHG(XH) = 1.2 A (Peak)
        # run_current = (1.2 * .707) = 0.85 A
    # Resistor TMC2209 = 0.110
    # Resistor TMC5160 = 0.075
##===========================================================================
[extruder]
step_pin: PE2
dir_pin: PE3
enable_pin: !PD4
microsteps: 16
rotation_distance: 4.68303
#gear_ratio: 7.5:1
full_steps_per_rotation: 200
nozzle_diameter: 0.4
filament_diameter: 1.750
max_extrude_only_distance: 500
max_extrude_only_velocity: 120
pressure_advance: 0.025
pressure_advance_smooth_time: 0.030
##------------------------------ Heater Section -----------------------------
heater_pin: PA2
max_power: 1.0
sensor_type: ATC Semitec 104NT-4-R025H42G
sensor_pin: PF4
control = pid
pid_kp = 24.244
pid_ki = 2.449
pid_kd = 60.005
min_extrude_temp: 190
min_temp: 0
max_temp: 280
##--------------------------------- TMC2209 ---------------------------------
#[tmc2209 extruder]
#uart_pin: PE1
#interpolate: False
#run_current: 0.85
#sense_resistor: 0.110
#stealthchop_threshold: 0
#driver_TBL: 0
#driver_TOFF: 4
#driver_HEND: 6
#driver_HSTRT: 7
##--------------------------------- TMC5160 ---------------------------------
[tmc5160 extruder]
cs_pin: PE1
#spi_speed: 1000000
#spi_bus: spi1
spi_software_sclk_pin: PA5
spi_software_miso_pin: PA6
spi_software_mosi_pin: PA7
interpolate: False
run_current: 0.85
sense_resistor: 0.075
stealthchop_threshold: 0
#driver_IHOLDDELAY: 6
#driver_TPOWERDOWN: 10
driver_TBL: 0
driver_TOFF: 4
driver_HEND: 6
driver_HSTRT: 7
#driver_TPFD: 0
#driver_PWM_AUTOSCALE: True
#driver_PWM_AUTOGRAD: True
#driver_PWM_FREQ: 2
#driver_PWM_GRAD: 0
#driver_PWM_OFS: 0
#driver_PWM_REG: 0
#driver_PWM_LIM: 0
##=================================== End ===================================